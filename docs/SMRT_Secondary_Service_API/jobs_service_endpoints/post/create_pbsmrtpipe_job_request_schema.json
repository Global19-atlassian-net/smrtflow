{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "pacbio.secondary.schemas.job.pbsmrtpipe.create",
  "version": "0.1.0",
  "title": "Create Pbsmrtpipe Job",
  "description": "Schema of request body for creating pbsmrtpipe job",
  "type": "object",
  "properties": {
    "name": {
      "title": "Pbsmrtpipe Job Name",
      "description": "Name of this pbsmrtpipe job",
      "type": "string"
    },
    "pipelineId": {
      "title": "Pipeline Id",
      "description": "Identifier of this pipeline, e.g. pbsmrtpipe.pipelines.sa3_ds_resequencing",
      "type": "string"
    },
    "entryPoints": {
      "title": "Entry Points Array",
      "description": "Array of pipeline entry points, i.e. input datasets",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "entryId": {
            "title": "Entry Id",
            "description": "Identifier of the entry point, e.g. eid_subread",
            "type": "string"
          },
          "fileTypeId": {
            "title": "File Type Id",
            "description": "Identifier of the file type of the entry point, a.k.a. dataset type, e.g. PacBio.DataSet.SubreadSet",
            "type": "string"
          },
          "datasetId": {
            "title": "Dataset Id",
            "description": "Identifier of the dataset of the entry point",
            "type": "integer"
          }
        },
        "required": [
          "entryId",
          "fileTypeId",
          "datasetId"
        ],
        "additionalProperties": false
      },
      "additionalItems": false
    },
    "taskOptions": {
      "title": "Task Options Array",
      "description": "Array of pipeline tasks' options, in form of Name-Value-Type triples",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "optionId": {
            "title": "Option Id",
            "description": "Name of this option, e.g. genomic_consensus.task_options.min_coverage",
            "type": "string"
          },
          "value": {
            "title": "Option Value",
            "description": "Value that corresponds to this option name",
            "type": "string/integer/boolean"
          },
          "optionTypeId": {
            "title": "Option Type Id",
            "description": "Type of the option's value, one of pbsmrtpipe.option_types.string, pbsmrtpipe.option_types.integer, pbsmrtpipe.option_types.boolean",
            "type": "string"
          }
        },
        "required": [
          "optionId",
          "value",
          "optionTypeId"
        ],
        "additionalProperties": false
      },
      "additionalItems": false
    },
    "workflowOptions": {
      "title": "Workflow Options Array",
      "description": "Array of pipeline workflow options, in form of Name-Value-Type triples",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "optionId": {
            "title": "Option Id",
            "description": "Name of this workflow option",
            "type": "string"
          },
          "value": {
            "title": "Option Value",
            "description": "Value that corresponds to this option name",
            "type": "string/integer/boolean"
          },
          "optionTypeId": {
            "title": "Option Type Id",
            "description": "Type of the option's value, one of pbsmrtpipe.option_types.string, pbsmrtpipe.option_types.integer, pbsmrtpipe.option_types.boolean",
            "type": "string"
          }
        },
        "required": [
          "optionId",
          "value",
          "optionTypeId"
        ],
        "additionalProperties": false
      },
      "additionalItems": false
    }
  },
  "required": [
    "name",
    "pipelineId",
    "entryPoints",
    "taskOptions",
    "workflowOptions"
  ],
  "additionalProperties": false
}